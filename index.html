<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PCSS Editor</title><link rel="icon" type="image/x-icon" href="favicon.ico"><style>body{background:#0f0f0f;color:#e3e3e3;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;padding:10px;font-family:system-ui,sans-serif}#c{max-width:600px;width:100%;padding:10px;border:1px solid #333537;border-radius:28px;background:#131314}textarea{width:100%;height:200px;background:#1b1b1b;color:#e3e3e3;border:1px solid #333537;border-radius:16px;padding:16px;resize:vertical;box-sizing:border-box;font-size:14px;margin-bottom:10px}.segmented{display:flex;background:#1e1f20;border-radius:40px;padding:4px;margin-bottom:10px;gap:4px}.segmented label{flex:1;text-align:center;padding:8px 16px;cursor:pointer;border-radius:32px;color:#9e9e9e;font-size:14px;font-weight:500}.segmented label:has(input:checked){background:#282a2c;color:#fff}.segmented input{display:none}.row{display:flex;gap:8px;margin-bottom:10px}.full-width{width:100%;padding:14px 24px;background:#fff;color:#000;font-weight:600;border-radius:40px;border:none;margin-bottom:10px}.full-width:hover{background:#f0f0f0}.row button{padding:12px 24px;background:0 0;border:1px solid #444746;color:#e3e3e3;border-radius:20px;cursor:pointer;flex:1;font-size:14px}.row button:hover{background:#282a2c;border-color:#e3e3e3}input[type=file]{display:none}button{cursor:pointer;font-family:inherit}.full-width:active,.row button:active{transform:scale(0.97)}</style></head><body><div id="c"><div class="segmented"><label><input type="radio" name="v" value="pc" checked>.pc</label><label><input type="radio" name="v" value="mpcm">.mpcm</label></div><textarea id="t"></textarea><button class="full-width" onclick="xor()">xor</button><div class="row"><input type="file" id="f" onchange="load(this)"><button onclick="f.click()">import</button><button onclick="save()">export</button></div><div class="row"><button onclick="copy()">copy</button><button onclick="paste()">paste</button></div></div><script>let fname='file',$=s=>document.querySelector(s),v=()=>$('input[name="v"]:checked').value;function xor(){let k=v()=='pc'?129:221,t=$('#t');t.value=t.value.split('').map(c=>String.fromCharCode(c.charCodeAt(0)^k)).join('')}function load(e){let f=(e.files||e.target.files)[0];if(!f||!f.name.match(/\.(pc|mpcm)$/))return;$(`input[value="${f.name.endsWith('.pc')?'pc':'mpcm'}"]`).checked=1;fname=f.name.replace(/\.[^/.]+$/,'');let r=new FileReader;r.onload=e=>$('#t').value=e.target.result;r.readAsText(f)}function save(){let t=$('#t').value;if(!t.trim())return;let a=document.createElement('a');a.href=URL.createObjectURL(new Blob([t]));a.download=fname+(v()=='pc'?'.pc':'.mpcm');a.click()}function copy(){navigator.clipboard.writeText($('#t').value)}async function paste(){try{$('#t').value=await navigator.clipboard.readText()}catch(e){alert('Paste failed: '+e)}}document.body.ondragover=e=>e.preventDefault();document.body.ondrop=e=>{e.preventDefault();let f=e.dataTransfer.files[0];if(!f||!f.name.match(/\.(pc|mpcm)$/))return;$(`input[value="${f.name.endsWith('.pc')?'pc':'mpcm'}"]`).checked=1;fname=f.name.replace(/\.[^/.]+$/,'');let r=new FileReader;r.onload=e=>$('#t').value=e.target.result;r.readAsText(f)};</script></body></html>